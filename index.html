<!DOCTYPE html>
<html>
<head>
	<title>Emergency rescue</title>
	<meta charset="utf-8">
 	<meta name="viewport" content="user-scalable=no, width=device-width">
 	
 	<link rel="stylesheet" href="./Emergency.css">
</head>
<body class="main">
	<div style="text-align: center;">
		<a href="#">긴급구난</a>
		<a href="#">긴급구난 출동비</a>
	</div>
	<div>
		<span class="firstBox" >
			<span>□</span>
			<span>일</span>
			<div style="display: inline-block; float: right;">
				<span>시</span>
				<span>:</span>
			</div>
		</span>
		<input type="text" id="text1" class="firstInput">
		<br>
		<span class="firstBox" >
			<span>□</span>
			<span>구</span>
			<span class="firstCenter">난</span>
			<span class="firstCenter">업</span>
			<span class="firstCenter">체</span>
			<div style="display: inline-block; float: right;">
				<span>명</span>
				<span>:</span>
			</div>
		</span>
		<input type="text" id="text2" class="firstInput">
		<br>
		<span class="firstBox" >
			<span>□</span>
			<span>구</span>
			<span class="firstCenter">난</span>
			<span class="firstCenter">장</span>
			<span class="firstCenter">소</span>
			<div class="firstCenter2">
				<span>(구 간)</span>
			</div>
			<div style="display: inline-block; float: right;">
				<span>:</span>
			</div>
		</span>
		<input type="text" id="text3" class="firstInput">
		<br>
		<span class="firstBox" >
			<span>□</span>
			<span>견</span>
			<span class="firstCenter">인</span>
			<span class="firstCenter">요</span>
			<span class="firstCenter">소</span>
			<div style="display: inline-block; float: right;">
				<span>금</span>
				<span>:</span>
			</div>
		</span>
		<input type="text" id="text4" class="payInput">
		<span class="firstBox2" style="" >
			<span>□</span>
			<span>견</span>
			<span>인</span>
			<span>거</span>
			<span>리</span>
			<span>:</span>
		</span>
		<input type="text" id="text5" class="payInput2">
		<br>
		<div class="tooBox">
			<table>
				<tr>
					<td rowspan="2">차 종 명 <br> (규격) </td>
					<td rowspan="2">등록번호</td>
					<td colspan="2">피견인 운전자 현황</td>
					<td rowspan="2">구난사유</td>
					<td rowspan="2">보험사</td>
				</tr>
				<tr>
					<td>성 명</td>
					<td>연 락 처</td>
				</tr>
				<tr>
					<td> 
						<input type="text" id="tabletx1" class="userinfoInput"> <br> 
						<input type="text" id="tabletx2" class="userinfoInput"> 
					</td> 
					<td><input type="text" id="tabletx3" class="userinfoInput"></td>
					<td><input type="text" id="tabletx4" class="userinfoInput"></td>
					<td><input type="text" id="tabletx5" class="userinfoInput"></td>
					<td><input type="text" id="tabletx6" class="userinfoInput"></td>
					<td><input type="text" id="tabletx7" class="userinfoInput"></td>
				</tr>
				<tr>
					<td colspan="6">사 진 대 지</td>
				</tr>
			</table>
			<div class="imgContener">
				<input type="file" class="file1">
				<input type="file" class="file2">
				<img src="./img/hom3.png" class="imgStyle" id="file1"></td>
				<img src="./img/hom6.png" class="imgStyle" id="file2"></td>
			</div>
		</div>
		<div class="lastYear">
			<input type="text" id="text6">
		</div>
		<div class="lastName1">
			작성자 : 상황실근무자 <input type="text" id="text7">( 인 )
		</div>
		<div class="lastName2">
			작성자 : 
			<span class="lastName3">교</span>
			<span class="lastName3">통</span>
			<span class="lastName3">차</span>
			<span class="lastName3">장</span> <input type="text" id="text8">( 인 )
		</div>
		<div>
			<button onclick="Save()">Save</button>
		</div>
	</div>
</body>
<script src="./Emergency.js"></script>

<script type="text/javascript">
	if (navigator.mediaDevices === undefined) {
		navigator.mediaDevices = {};
	}

	// Some browsers partially implement mediaDevices. We can't just assign an object
	// with getUserMedia as it would overwrite existing properties.
	// Here, we will just add the getUserMedia property if it's missing.
	if (navigator.mediaDevices.getUserMedia === undefined) {
		navigator.mediaDevices.getUserMedia = function(constraints) {

	    // First get ahold of the legacy getUserMedia, if present
	    var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

	    // Some browsers just don't implement it - return a rejected promise with an error
	    // to keep a consistent interface
	    if (!getUserMedia) {
	    	return Promise.reject(new Error('getUserMedia is not implemented in this browser'));
	    }

	    // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise
	    return new Promise(function(resolve, reject) {
	    	getUserMedia.call(navigator, constraints, resolve, reject);
	    });
	}
}

navigator.mediaDevices.getUserMedia({ audio: true, video: true })
.then(function(stream) {
	var video = document.querySelector('video');
	  // Older browsers may not have srcObject
	  if ("srcObject" in video) {
	  	video.srcObject = stream;
	  } else {
	    // Avoid using this in new browsers, as it is going away.
	    video.src = window.URL.createObjectURL(stream);
	}
	video.onloadedmetadata = function(e) {
		video.play();
	};
})
.catch(function(err) {
	console.log(err.name + ": " + err.message);
	alert(err.name + ": " + err.message);
});
</script>
</html>